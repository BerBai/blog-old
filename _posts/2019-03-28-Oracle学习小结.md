---
layout:     post
title:      Oracle学习小结
subtitle:   最近学习Oracle，做个小总结
date:       2019-03-28
author:     柏梓涵
header-img: img/post-bg-oracle.jpg
catalog: true
tags:
    - sql
---



以下查询基于图书销售系统表

（1） 查询当前所有客户信息。

select * from customers;

（2） 查询图书ISBN、书名、批发价以及零售价信息。

select isbn,title,cost,retail from books;

（3） 查询所有图书的种类。

select DISTINCT category from books;

（4） 查询图书ISBN、图书名及作者名信息。

select books.isbn,books.title,authors.name from books inner join bookauthor on books.isbn=bookauthor.isbn join authors on authors.author_id=bookauthor.author_id;
（5） 查询所有订单信息。

select * from orders;

（6） 查询所有出版社信息。

select * from publishers;

（7） 查询所有订单明细信息。

select * from orderitem;

（8） 查询出版日期在2009年1月1日之后的图书信息。

select * from books where pubdate > to_date('2009-01-01','yyyy-mm-dd');

（9） 查询所有图书ISBN、图书名、出版日期，并按出版日期降序排序。

select isbn,title,pubdate from books order by pubdate desc;

（10）  查询所有图书ISBN、图书名、出版社、出版日期，按批发价格排序，对于批发价相同的，再按零售价排序。

select * from books inner join publishers on books.publisher_id=publishers.publisher_id order by cost,retail;

（11）  查询图书名以“数据库”开头的图书信息。

select * from books where title like '数据库%';

（12）  查询所有书名中包含“Oracle”的图书信息。

select * from books where title like '%Oracle%';

（13）  查询出版日期在2007年1月至2009年1月的所有图书。

select * from books where pubdate >= to_date('2007-01-01','yyyy-mm-dd') and pubdate <= to_date('2009-1-31','yyyy-mm-dd');

（14）  查询“电子工业出版社”和“清华大学出版社”出版的图书。

select * from books join publishers on books.publisher_id=publishers.publisher_id and (publishers.name like '清华大学出版社' or publishers.name like '电子工业出版社');

（15）  查询所有订单信息，按订单日期排序。对于订单日期相同的，再按发货日期排序。

select * from orders order by orderdate,shipdate; 

（16）  查询所有发货日期比订货日期晚７天的订单信息。

select * from orders where (to_number(shipdate-orderdate))>=7; 

（17）  统计各类图书的数量，平均零售价格、平均批发价格。

select category,count(*),avg(retail),avg(cost) from books GROUP BY category;

（18）  统计各个出版社出版图书的数量、最高批发价格、最高零售价格、最低批发价格和最低零售价格。

select name,count(*),max(cost),max(retail),min(cost),min(retail) from books join publishers on books.publisher_id =publishers.publisher_id GROUP BY name;

（19）  统计每个客户的订单数量。

select name,count(*) from orders join customers on orders.customer_id=customers.customer_id group by name;

（20）  统计每个作者编写的图书数量。

select name,count(*) from bookauthor join authors on authors.author_id=bookauthor.author_id group by name;